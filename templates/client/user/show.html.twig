{% extends './client/base.html.twig' %}

{% block title %}Articles{% endblock %}

{% block body %}
    {% if app.user %}
        <div id="profile" class="flex-col-between">
            <div class="profile__header">
                <div class="user-info">
                    <div class="icon"></div>
                    <div class="flex-col description">
                        <h3>{{ user.username }}</h3>
                        <p class="sub-text">
                            {{ user.description }} Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium
                            commodi corporis eaque, facilis libero maiores perspiciatis quod repudiandae tempora
                            voluptatibus!
                        </p>
                    </div>
                </div>
            </div>
            <div class="flex-row-between profile__content">
                <div class="flex-col left-side">
                    <div class="flex-col statistics">
                        <h4>Statistics</h4>
                        <div class="flex-row statistics__content">

                            <div class="flex-row profilStat">
                                <h5> Followers </h5>
                                <p class="data">  {{ user.followers|length|format_BN }}</p>

                            </div>
                            <div class="flex-row profilStat">
                                <h5> Followings </h5>
                                <p class="data">  {{ user.following|length|format_BN }}</p>

                            </div>


                        </div>
                        <div class="flex-row statistics__content">

                            <div class="flex-row profilStat">
                                <h5> Likes </h5>
                                <p class="data"> {{ totalLikes }}</p>

                            </div>
                            <div class="flex-row profilStat">
                                <h5> Posts </h5>
                                <p class="data"> {{ user.bloops|length }}</p>

                            </div>

                        </div>
                    </div>
                    <div class="flex-col" style="margin-top: 40px;">
                        <h4>Your data</h4>
                        <form action="" method="">
                            <div class="flex-row">

                                <label for="" class="flex-col">
                                    Username
                                    <input type="text" required value="{{ app.user.username }}">

                                </label>
                                <label for="" class="flex-col">
                                    Mail adress
                                    <input type="email" required value="{{ app.user.email }}">
                                </label>

                            </div>

                            <div class="flex-row  buttonContainer">
                                <button type="submit" class="btnViolet">Save</button>
                                <button type="reset" class="btnGrey">Reset</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="v-devider"></div>
                <div class="close-friends">
                    <h4>Your friends</h4>
                    <div class="flex-col">
                        <div class="flex-row-between">
                            <div class="little-profile">
                                <div class="icon"></div>
                                <p>Username 1</p>
                            </div>
                            <div class="little-profile">
                                <div class="icon"></div>
                                <p>Username 1</p>
                            </div>
                            <div class="little-profile">
                                <div class="icon"></div>
                                <p>Username 1</p>
                            </div>
                        </div>
                        <div class="flex-row-between">
                            <div class="little-profile">
                                <div class="icon"></div>
                                <p>Username 2</p>
                            </div>
                            <div class="little-profile">
                                <div class="icon"></div>
                                <p>Username 2</p>
                            </div>
                            <div class="little-profile">
                                <div class="icon"></div>
                                <p>Username 2</p>
                            </div>
                        </div>
                        <div class="flex-row-between">
                            <div class="little-profile">
                                <div class="icon"></div>
                                <p>Username 3</p>
                            </div>
                            <div class="little-profile">
                                <div class="icon"></div>
                                <p>Username 3</p>
                            </div>
                            <div class="little-profile">
                                <div class="icon"></div>
                                <p>Username 3</p>
                            </div>
                        </div>
                        <div class="flex-row-between">
                            <div class="little-profile">
                                <div class="icon"></div>
                                <p>Username 4</p>
                            </div>
                            <div class="little-profile">
                                <div class="icon"></div>
                                <p>Username 4</p>
                            </div>
                            <div class="little-profile">
                                <div class="icon"></div>
                                <p>Username 4</p>
                            </div>
                        </div>
                        <div class="flex-row-between">
                            <div class="little-profile">
                                <div class="icon"></div>
                                <p>Username 5</p>
                            </div>
                            <div class="little-profile">
                                <div class="icon"></div>
                                <p>Username 5</p>
                            </div>
                            <div class="little-profile">
                                <div class="icon"></div>
                                <p>Username 5</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flex-row updateMdpContainer toggleUpdateMdp">

                    <div class="inputContainer">
                        <h4>Modification de mot de passe</h4>
                        <div id="inputError" style="color: red;"></div>

                        <div class="modificationInputs">
                            <div class="mdpInput">
                                <h3>Ancien mot de passe</h3>
                                <input type="password" name="lastMdp">
                            </div>
                            <div class="mdpInput">
                                <h3>Nouveau mot de passe</h3>
                                <input type="password" name="newMdp">
                                <div class="password-icon">
                                    <i class="bi bi-eye bi-eyeNewPassword "></i>
                                    <i class="bi bi-eye-slash-fill bi-eyeNewPasswordFill"></i>
                                </div>
                            </div>
                            <div class="mdpInput">
                                <h3>Confirmation du mot de passe</h3>
                                <input type="password" name="confirmNewMdp">
                            </div>
                        </div>

                    </div>
                    <div class="notifications-container">
                        <div class="success">
                            <div class="flex">
                                <div class="flex-shrink-0">

                                    <svg class="succes-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                                         fill="currentColor" aria-hidden="true">
                                        <path fill-rule="evenodd"
                                              d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                              clip-rule="evenodd"></path>
                                    </svg>
                                </div>
                                <div class="success-prompt-wrap">
                                    <p class="success-prompt-heading">Changement de mot de passe confirmé !
                                    </p>
                                    <div class="success-prompt-prompt">
                                        <p>Vous avez bien modifier votre mot de passe ! J'espère que le service vous a
                                            plu. Vous allez être déconnecter. </p>
                                    </div>
                                    <div class="success-button-container">
                                        <button type="button" class="success-button-main"><a
                                                    href="{{ path('app_logout') }}">Tester
                                                le mot de passe</a></button>
                                        <button type="button" onclick="closeSuccesPanel.call(this)"
                                                class="success-button-secondary">
                                            Fermer
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>



            </div>
        </div>
    {% endif %}
<script src="{{ asset('js/request.js') }}" defer></script>
<script src="{{ asset('js/client/profil.js') }}" defer></script>

{% endblock %}
